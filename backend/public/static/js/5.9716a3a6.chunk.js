(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[5],{72:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(73);t.a=e=>r.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)},73:function(e,t,a){},74:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0);const r=(e,t)=>{switch(t.type){case"INPUT_CHANGE":let a=!0;for(const n in e.inputs)e.inputs[n]&&(a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid);return{...e,inputs:{...e.inputs,[t.inputId]:{value:t.value,isValid:t.isValid}},isValid:a};case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},l=(e,t)=>{const[a,l]=Object(n.useReducer)(r,{inputs:e,isValid:t});return[a,Object(n.useCallback)((e,t,a)=>{l({type:"INPUT_CHANGE",value:t,isValid:a,inputId:e})},[]),Object(n.useCallback)((e,t)=>{l({type:"SET_DATA",inputs:e,formIsValid:t})},[])]}},75:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=(a(76),a(10));t.a=e=>{const[t,a]=Object(n.useState)(),[i,s]=Object(n.useState)(),[c,u]=Object(n.useState)(!1),d=Object(n.useRef)();Object(n.useEffect)(()=>{if(!t)return;const e=new FileReader;e.onload=()=>{s(e.result)},e.readAsDataURL(t)},[t]);return r.a.createElement("div",{className:"from-control"},r.a.createElement("input",{type:"file",id:e.id,style:{display:"none"},ref:d,accept:".jpg,.png,.jpeg",onChange:t=>{let n,r=c;t.target.files&&1===t.target.files.length?(n=t.target.files[0],a(n),u(!0),r=!0):(u(!1),r=!1),e.onInput(e.id,n,r)}}),r.a.createElement("div",{className:"image-upload ".concat(e.center&&"center")},r.a.createElement("div",{className:"image-upload__preview"},i&&r.a.createElement("img",{src:i,alt:"Preview"}),!i&&r.a.createElement("p",null,"Please Pick an image.")),r.a.createElement(l.a,{type:"button",onClick:()=>{d.current.click()}},"PICK IMAGE")),!c&&r.a.createElement("p",null,e.errorText))}},76:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(3),i=a(72),s=a(26),c=a(10),u=a(25),d=a(14),o=a(75),p=a(27),m=a(74),v=a(24),E=a(12);a(39);t.default=()=>{const e=Object(n.useContext)(E.a),{isLoading:t,error:a,sendRequest:b,clearError:f}=Object(v.a)(),[g,h]=Object(m.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1),j=Object(l.g)();return t?r.a.createElement("div",{className:"center"},r.a.createElement(d.a,null)):a&&"Could not find place"!==a.message?r.a.createElement("div",{className:"center"},r.a.createElement(i.a,null,r.a.createElement("h2",null,"Error occurred!"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"newPlace-description"},"Capture the Journey: Share Your Travel Moment with Image, Title, and Description!"),r.a.createElement(u.a,{error:a,onClear:f}),r.a.createElement("form",{className:"place-form",onSubmit:async t=>{t.preventDefault();const a=new FormData;a.append("title",g.inputs.title.value),a.append("description",g.inputs.description.value),a.append("address",g.inputs.address.value),a.append("image",g.inputs.image.value);try{await b("https://travel-track-app-5259b35aa81a.herokuapp.com/api/places","POST",a,{Authorization:"Bearer "+e.token}),j.push("/".concat(e.userId,"/places"))}catch(n){}}},t&&r.a.createElement(d.a,{asOverlay:!0}),r.a.createElement(s.a,{id:"title",element:"input",type:"text",label:"Title",validators:[Object(p.c)()],errorText:"Please enter a valid title.",onInput:h}),r.a.createElement(s.a,{id:"description",element:"textarea",label:"Description",validators:[Object(p.b)(6)],errorText:"Please enter a valid description (at least 5 characters).",onInput:h}),r.a.createElement(s.a,{id:"address",element:"input",label:"Address",validators:[Object(p.c)(6)],errorText:"Please enter a valid address.",onInput:h}),r.a.createElement(o.a,{center:!0,id:"image",onInput:h,errorText:"Please provide an image."}),r.a.createElement(c.a,{type:"submit",disabled:!g.isValid},"ADD PLACE")))}}}]);
//# sourceMappingURL=5.9716a3a6.chunk.js.map