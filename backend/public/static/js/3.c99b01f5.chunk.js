(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[3],{72:function(e,a,t){"use strict";var n=t(0),i=t.n(n);t(73);a.a=e=>i.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)},73:function(e,a,t){},74:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t(0);const i=(e,a)=>{switch(a.type){case"INPUT_CHANGE":let t=!0;for(const n in e.inputs)e.inputs[n]&&(t=n===a.inputId?t&&a.isValid:t&&e.inputs[n].isValid);return{...e,inputs:{...e.inputs,[a.inputId]:{value:a.value,isValid:a.isValid}},isValid:t};case"SET_DATA":return{inputs:a.inputs,isValid:a.formIsValid};default:return e}},s=(e,a)=>{const[t,s]=Object(n.useReducer)(i,{inputs:e,isValid:a});return[t,Object(n.useCallback)((e,a,t)=>{s({type:"INPUT_CHANGE",value:a,isValid:t,inputId:e})},[]),Object(n.useCallback)((e,a)=>{s({type:"SET_DATA",inputs:e,formIsValid:a})},[])]}},75:function(e,a,t){"use strict";var n=t(0),i=t.n(n),s=(t(76),t(10));a.a=e=>{const[a,t]=Object(n.useState)(),[l,r]=Object(n.useState)(),[c,u]=Object(n.useState)(!1),p=Object(n.useRef)();Object(n.useEffect)(()=>{if(!a)return;const e=new FileReader;e.onload=()=>{r(e.result)},e.readAsDataURL(a)},[a]);return i.a.createElement("div",{className:"from-control"},i.a.createElement("input",{type:"file",id:e.id,style:{display:"none"},ref:p,accept:".jpg,.png,.jpeg",onChange:a=>{let n,i=c;a.target.files&&1===a.target.files.length?(n=a.target.files[0],t(n),u(!0),i=!0):(u(!1),i=!1),e.onInput(e.id,n,i)}}),i.a.createElement("div",{className:"image-upload ".concat(e.center&&"center")},i.a.createElement("div",{className:"image-upload__preview"},l&&i.a.createElement("img",{src:l,alt:"Preview"}),!l&&i.a.createElement("p",null,"Please Pick an image.")),i.a.createElement(s.a,{type:"button",onClick:()=>{p.current.click()}},"PICK IMAGE")),!c&&i.a.createElement("p",null,e.errorText))}},76:function(e,a,t){},82:function(e,a,t){},85:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),s=t(72),l=t(26),r=t(10),c=t(25),u=t(14),p=t(75),o=t(27),d=t(74),m=t(24),v=t(12);t(82);a.default=()=>{const e=Object(n.useContext)(v.a),[a,t]=Object(n.useState)(!0),{isLoading:E,error:b,sendRequest:f,clearError:g}=Object(m.a)(),[O,I,w]=Object(d.a)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1);return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{error:b,onClear:g}),i.a.createElement(s.a,{className:"authentication"},E&&i.a.createElement(u.a,{asOverlay:!0}),i.a.createElement("h2",null,"Login Required"),i.a.createElement("hr",null),i.a.createElement("form",{onSubmit:async t=>{if(t.preventDefault(),a)try{const a=await f("https://travel-track-app-5259b35aa81a.herokuapp.com/api/users/login","POST",JSON.stringify({email:O.inputs.email.value,password:O.inputs.password.value}),{"Content-Type":"application/json"});e.login(a.userId,a.token)}catch(n){}else try{const a=new FormData;a.append("email",O.inputs.email.value),a.append("name",O.inputs.name.value),a.append("password",O.inputs.password.value),a.append("image",O.inputs.image.value);const t=await f("https://travel-track-app-5259b35aa81a.herokuapp.com/api/users/signup","POST",a);e.login(t.userId,t.token)}catch(n){}}},!a&&i.a.createElement(l.a,{element:"input",id:"name",type:"text",label:"Your Name",validators:[Object(o.c)()],errorText:"Please enter a name.",onInput:I}),!a&&i.a.createElement(p.a,{center:!0,id:"image",onInput:I,errorText:"Please provide an image."}),i.a.createElement(l.a,{element:"input",id:"email",type:"email",label:"E-Mail",validators:[Object(o.a)()],errorText:"Please enter a valid email address.",onInput:I}),i.a.createElement(l.a,{element:"input",id:"password",type:"password",label:"Password",validators:[Object(o.b)(6)],errorText:"Please enter a valid password, at least 6 characters.",onInput:I}),i.a.createElement(r.a,{type:"submit",disabled:!O.isValid},a?"LOGIN":"SIGNUP")),i.a.createElement(r.a,{inverse:!0,onClick:()=>{a?w({...O.inputs,name:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1):w({...O.inputs,name:void 0,image:void 0},O.inputs.email.isValid&&O.inputs.password.isValid),t(e=>!e)}},"SWITCH TO ",a?"SIGNUP":"LOGIN")))}}}]);
//# sourceMappingURL=3.c99b01f5.chunk.js.map