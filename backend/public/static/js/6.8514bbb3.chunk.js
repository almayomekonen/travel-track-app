(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[6],{72:function(e,a,t){"use strict";var c=t(0),n=t.n(c);t(73);a.a=e=>n.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)},73:function(e,a,t){},80:function(e,a,t){},81:function(e,a,t){},87:function(e,a,t){"use strict";t.r(a);var c=t(0),n=t.n(c),r=t(3),l=t(72),o=t(10),s=t(17),i=t(31),m=t(25),d=t(14),E=t(12),p=t(24);t(80);var u=e=>{const{isLoading:a,error:t,sendRequest:r,clearError:u}=Object(p.a)(),h=Object(c.useContext)(E.a),[f,v]=Object(c.useState)(!1),[C,b]=Object(c.useState)(!1),k=()=>v(!1),N=()=>{b(!1)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{error:t,onClear:u}),n.a.createElement(s.a,{show:f,onCancel:k,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:n.a.createElement(o.a,{onClick:k},"CLOSE")},n.a.createElement("div",{className:"map-container"},n.a.createElement(i.a,{center:e.coordinates,zoom:16}))),n.a.createElement(s.a,{show:C,onCancel:N,header:"Are you sure?",footerClass:"place-item__modal-actions",footer:n.a.createElement(n.a.Fragment,null,n.a.createElement(o.a,{inverse:!0,onClick:N},"CANCEL"),n.a.createElement(o.a,{danger:!0,onClick:async()=>{b(!1);try{await r("https://travel-track-app-5259b35aa81a.herokuapp.com/api"+"/places/".concat(e.id),"DELETE",null,{Authorization:"Bearer "+h.token}),e.onDelete(e.id)}catch(a){}}},"DELETE"))},n.a.createElement("p",null,"Do you want to proceed and delete this place? Please note that it can't be undone thereafter.")),n.a.createElement("li",{className:"place-item"},n.a.createElement(l.a,{className:"place-item__content"},a&&n.a.createElement(d.a,{asOverlay:!0}),n.a.createElement("div",{className:"place-item__image"},n.a.createElement("img",{src:"".concat("https://travel-track-app-5259b35aa81a.herokuapp.com/","/").concat(e.image),alt:e.title})),n.a.createElement("div",{className:"place-item__info"},n.a.createElement("h2",null,e.title),n.a.createElement("h3",null,e.address),n.a.createElement("p",null,e.description)),n.a.createElement("div",{className:"place-item__actions"},n.a.createElement(o.a,{inverse:!0,onClick:()=>v(!0)},"VIEW ON MAP"),h.userId===e.creatorId&&n.a.createElement(o.a,{to:"/places/".concat(e.id)},"EDIT"),h.userId===e.creatorId&&n.a.createElement(o.a,{danger:!0,onClick:()=>{b(!0)}},"DELETE")))))};t(81);var h=e=>0===e.items.length?n.a.createElement("div",{className:"place-list center"},n.a.createElement(l.a,null,n.a.createElement("h2",null,"No places found. Maybe create one?"),n.a.createElement(o.a,{to:"/places/new"},"Share Place"))):n.a.createElement("ul",{className:"place-list"},e.items.map(a=>n.a.createElement(u,{key:a.id,id:a.id,image:a.image,title:a.title,description:a.description,address:a.address,creatorId:a.creator,coordinates:a.location,onDelete:e.onDeletePlace})));a.default=()=>{const[e,a]=Object(c.useState)(),{isLoading:t,error:l,sendRequest:o,clearError:s}=Object(p.a)(),i=Object(r.h)().userId;Object(c.useEffect)(()=>{(async()=>{try{const e=await o("".concat("https://travel-track-app-5259b35aa81a.herokuapp.com/api","/places/user/").concat(i));a(e.places)}catch(e){}})()},[o,i]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{error:l,onClear:s}),t&&n.a.createElement("div",{className:"center"},n.a.createElement(d.a,null)),!t&&e&&n.a.createElement(h,{items:e,onDeletePlace:e=>{a(a=>a.filter(a=>a.id!==e))}}))}}}]);
//# sourceMappingURL=6.8514bbb3.chunk.js.map