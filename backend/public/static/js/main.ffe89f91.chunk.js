(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,,,function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(5);a(58);t.a=e=>e.href?l.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href},e.children):e.to?l.a.createElement(r.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger")},e.children):l.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled},e.children)},,function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0);const l=Object(n.createContext)({isLoggedIn:!1,userId:null,token:null,login:()=>{},logout:()=>{}})},,function(e,t,a){"use strict";var n=a(0),l=a.n(n);a(61);t.a=e=>l.a.createElement("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay")},l.a.createElement("div",{className:"lds-dual-ring"}))},,function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0);let l;const r=()=>{const[e,t]=Object(n.useState)(!1),[a,r]=Object(n.useState)(),[c,o]=Object(n.useState)(!1),s=Object(n.useCallback)((e,a,n)=>{t(a),o(e);const l=n||new Date((new Date).getTime()+36e5);r(l),localStorage.setItem("userData",JSON.stringify({userId:e,token:a,expiration:l.toISOString()}))},[]),i=Object(n.useCallback)(()=>{t(null),r(null),o(null),localStorage.removeItem("userData")},[]);return Object(n.useEffect)(()=>{if(e&&a){const e=a.getTime()-(new Date).getTime();l=setTimeout(i,e)}else clearTimeout(l)},[e,i,a]),Object(n.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&s(e.userId,e.token,new Date(e.expiration))},[s]),{token:e,login:s,logout:i,userId:c}}},function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(8),c=a.n(r),o=a(70),s=a(18);a(59);const i=e=>{const t=l.a.createElement("div",{className:"modal ".concat(e.className),style:e.style},l.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},l.a.createElement("h2",null,e.header)),l.a.createElement("form",{onSubmit:e.onSubmit?e.onSubmit:e=>e.preventDefault()},l.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),l.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer)));return c.a.createPortal(t,document.getElementById("modal-hook"))};t.a=e=>l.a.createElement(l.a.Fragment,null,e.show&&l.a.createElement(s.a,{onClick:e.onCancel}),l.a.createElement(o.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},l.a.createElement(i,e)))},function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(8),c=a.n(r);a(55);t.a=e=>c.a.createPortal(l.a.createElement("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))},,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0);const l=()=>{const[e,t]=Object(n.useState)(!1),[a,l]=Object(n.useState)(),r=Object(n.useRef)([]),c=Object(n.useCallback)((async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t(!0);const o=new AbortController;r.current.push(o);try{const l=await fetch(e,{method:a,body:n,headers:c,signal:o.signal}),s=await l.json();if(r.current=r.current.filter(e=>e!==o),!l.ok)throw new Error(s.message);return t(!1),s}catch(s){throw l(s.message),t(!1),s}}),[]);return Object(n.useEffect)(()=>()=>{r.current.forEach(e=>e.abort())},[]),{isLoading:e,error:a,sendRequest:c,clearError:()=>{l(null)}}}},function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(17),c=a(10);t.a=e=>l.a.createElement(r.a,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:l.a.createElement(c.a,{onClick:e.onClear},"Okay")},l.a.createElement("p",null,e.error))},function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(27);a(57);const c=(e,t)=>{switch(t.type){case"CHANGE":return{...e,value:t.val,isValid:Object(r.d)(t.val,t.validators)};case"TOUCH":return{...e,isTouched:!0};default:return e}};t.a=e=>{const[t,a]=Object(n.useReducer)(c,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),{id:r,onInput:o}=e,{value:s,isValid:i}=t;Object(n.useEffect)(()=>{o(r,s,i)},[r,s,i,o]);const u=t=>{a({type:"CHANGE",val:t.target.value,validators:e.validators})},m=()=>{a({type:"TOUCH"})},d="input"===e.element?l.a.createElement("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:u,onBlur:m,value:t.value}):l.a.createElement("textarea",{id:e.id,rows:e.rows||3,onChange:u,onBlur:m,value:t.value});return l.a.createElement("div",{className:"form-control ".concat(!t.isValid&&t.isTouched&&"form-control--invalid")},l.a.createElement("label",{htmlFor:e.id},e.label),d,!t.isValid&&t.isTouched&&l.a.createElement("p",null,e.errorText))}},function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return c}));const n=()=>({type:"REQUIRE"}),l=e=>({type:"MINLENGTH",val:e}),r=()=>({type:"EMAIL"}),c=(e,t)=>{let a=!0;for(const n of t)"REQUIRE"===n.type&&(a=a&&e.trim().length>0),"MINLENGTH"===n.type&&(a=a&&e.trim().length>=n.val),"MAXLENGTH"===n.type&&(a=a&&e.trim().length<=n.val),"MIN"===n.type&&(a=a&&+e>=n.val),"MAX"===n.type&&(a=a&&+e<=n.val),"EMAIL"===n.type&&(a=a&&/^\S+@\S+\.\S+$/.test(e));return a}},,,,function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(21),c=a.n(r),o=(a(60),a(69)),s=a(14),i=a(16);a(62);t.a=e=>{const[t,a]=Object(n.useState)(!1),[r,u]=Object(n.useState)(!1),{token:m}=Object(i.a)(),d=Object(n.useRef)(null);return Object(n.useEffect)(()=>{const t=t=>{const{latitude:n,longitude:l}=t.coords,r=[n,l];if(!d.current){const t=c.a.map("map").setView(r,13);c.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(t),d.current=t,t.on("click",async n=>{const{lat:l,lng:r}=n.latlng;a(!0);try{const n=(await o.a.post("https://travel-track-app-5259b35aa81a.herokuapp.com/api/places/travelTrack",{latitude:l,longitude:r},{headers:{Authorization:"Bearer "+m,"Content-Type":"application/json"}})).data.chatMessage;c.a.popup().setLatLng([l,r]).setContent(n).openOn(t),a(!1),u(!0);const s=document.createElement("div");s.className="container";const i=document.createElement("div");i.className="generatedMessage",i.innerText=n,s.appendChild(i),document.body.appendChild(s),s.scrollIntoView({behavior:"smooth"}),e.onMapClick&&e.onMapClick(n)}catch(s){}})}};navigator.geolocation&&navigator.geolocation.getCurrentPosition(t,(function(){alert("Not work / internet connection")}))},[m,e]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"map",style:{height:"270px"}}),l.a.createElement("div",{className:"center"},t&&l.a.createElement(s.a,null),t&&l.a.createElement("p",null,"Processing your Trip..."),r&&l.a.createElement("p",null,"Processed successfully. Have a great time!")))}},function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/travel.95862a09.jpg"},function(e,t,a){e.exports=a.p+"static/media/map.bc0cb375.svg"},function(e,t,a){e.exports=a.p+"static/media/briefcase.c3ba2694.svg"},function(e,t,a){e.exports=a.p+"static/media/airplane.1eccf74c.svg"},function(e,t,a){e.exports=a.p+"static/media/about.9fd52ea7.png"},function(e,t,a){},,,function(e,t,a){e.exports=a(68)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),c=a.n(r),o=(a(47),a(3)),s=a(5);a(48);var i=e=>l.a.createElement("header",{className:"main-header"},e.children),u=a(12);a(49);var m=e=>{const t=Object(n.useContext)(u.a);return l.a.createElement("ul",{className:"nav-links"},t.isLoggedIn&&l.a.createElement(s.c,{to:"/",exact:!0},"HOME"),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/users",exact:!0},"ALL USERS")),t.isLoggedIn&&l.a.createElement("li",null,l.a.createElement(s.c,{to:"/".concat(t.userId,"/places")},"MY PLACES")),t.isLoggedIn&&l.a.createElement("li",null,l.a.createElement(s.c,{to:"/places/build"},"BUILD TRACK")),t.isLoggedIn&&l.a.createElement("li",null,l.a.createElement(s.c,{to:"/places/new"},"SHARE A PLACE")),!t.isLoggedIn&&l.a.createElement("li",null,l.a.createElement(s.c,{to:"/auth"},"AUTHENTICATE")),t.isLoggedIn&&l.a.createElement("li",null,l.a.createElement("button",{onClick:t.logout},"LOGOUT")))},d=a(70);a(54);var E=e=>{const t=l.a.createElement(d.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("aside",{className:"side-drawer",onClick:e.onClick},e.children));return c.a.createPortal(t,document.getElementById("drawer-hook"))},p=a(18);a(56);var g=e=>{const[t,a]=Object(n.useState)(!1),r=()=>{a(!1)};return l.a.createElement(l.a.Fragment,null,t&&l.a.createElement(p.a,{onClick:r}),l.a.createElement(E,{show:t,onClick:r},l.a.createElement("nav",{className:"main-navigation__drawer-nav"},l.a.createElement(m,null))),l.a.createElement(i,null,l.a.createElement("button",{className:"main-navigation__menu-btn",onClick:()=>{a(!0)}},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null)),l.a.createElement("h1",{className:"main-navigation__title"},l.a.createElement(s.b,{to:"/"},"Travel&Track")),l.a.createElement("nav",{className:"main-navigation__header-nav"},l.a.createElement(m,null))))},h=a(24),b=a(26),v=a(10),f=a(25),y=a(31),k=a(17),N=(a(39),a(14)),O=a(16);a(67);var C=()=>l.a.createElement("div",{className:"user-guide-container"},l.a.createElement("p",null,"Travel Track: User Guide"),l.a.createElement("p",null,l.a.createElement("strong",null,"1. Initiate Location Setup: ",l.a.createElement("br",null)),'Click the "Enter Location" button to start the process. \u2611\ufe0f'),l.a.createElement("p",null,l.a.createElement("strong",null,"2. Pinpoint Your Location: ",l.a.createElement("br",null)),"On the map, easily mark your current position by tapping. \u2611\ufe0f"),l.a.createElement("p",null,l.a.createElement("strong",null,"3. Automatic Travel Generation: ",l.a.createElement("br",null)),"Experience the instant generation of your personalized travel track. \u2611\ufe0f"));var w=e=>{const{sendRequest:t,isLoading:a,error:r,clearError:c}=Object(h.a)(),[o,s]=Object(n.useState)(""),[i,u]=Object(n.useState)(""),[m,d]=Object(n.useState)([]),[E,p]=Object(n.useState)(!1),[g,w]=Object(n.useState)(""),[T,x]=Object(n.useState)(null),{token:S}=Object(O.a)();Object(n.useEffect)(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{x({latitude:e.coords.latitude,longitude:e.coords.longitude})},e=>{console.error(e.message)})},[]);const I=()=>p(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{error:r,onClear:c}),l.a.createElement(C,null),l.a.createElement("form",{className:"place-form"},l.a.createElement("span",{className:"welcome",role:"img","aria-label":"waving hand"},"\ud83d\udc4b\ud83c\uddfc\u200c\ud83c\uddea\u200c\ud83c\uddf1\u200c\ud83c\udde8\u200c\ud83c\uddf4\u200c\ud83c\uddf2\u200c\ud83c\uddea\u200c"),l.a.createElement("h1",null,"To Travel Track",l.a.createElement("span",{className:"globe-emoji",role:"img","aria-label":"globe"},"\ud83c\udf0d")),l.a.createElement(b.a,{id:"userInput",element:"input",type:"text",label:"Ask me anything, and I'll do my best to help!",validators:[],errorText:"Please enter a valid message.",onInput:(e,t,a)=>s(t),value:o,autoComplete:"off",required:!0}),l.a.createElement(v.a,{type:"button",onClick:async()=>{try{if(!T)return void console.error("Location is not available.");const e=await t("https://travel-track-app-5259b35aa81a.herokuapp.com/api/places/build","POST",JSON.stringify({userInput:o,location:T}),{"Content-Type":"application/json",Authorization:"Bearer "+S}),a=e[1]||"No response";d(e=>[...e,{sender:" You",content:o},{sender:" Assistant",content:a}]),u(a)}catch(r){}},disabled:!o},"Submit",a&&l.a.createElement(N.a,{asOverlay:!0})),l.a.createElement(v.a,{type:"button",onClick:()=>p(!0)},a?"Searching The Location...":"Enter Location")),E&&l.a.createElement(k.a,{show:E,onCancel:I,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:l.a.createElement(v.a,{onClick:I},"CLOSE")},l.a.createElement("div",{className:"map-container"},l.a.createElement(y.a,{center:e.coordinates,zoom:16,onLocationClick:async()=>{try{const e=await t("https://travel-track-app-5259b35aa81a.herokuapp.com/api/places/travelTrack","POST",JSON.stringify({userInput:o}),{"Content-Type":"application/json",Authorization:"Bearer "+S});w(e.chatMessage||"No chat response"),p(!1)}catch(r){}}})),l.a.createElement("div",{className:"map-chat-response"},l.a.createElement("p",null,g))),i&&l.a.createElement("div",null,l.a.createElement("form",{className:"place-form chat-response"},m.map((e,t)=>l.a.createElement("div",{key:t,className:"chat-message ".concat("you"===e.sender.toLowerCase()?"user-message":"assistant-message")},l.a.createElement("p",{className:"chat-color"},"".concat(e.sender,": ").concat(e.content)))))))},T=a(34),x=a.n(T);a(32);var S=()=>{const e=Object(n.useContext)(u.a);return l.a.createElement("div",{className:"container-style"},l.a.createElement("div",{id:"main",className:"image-container"},l.a.createElement("img",{className:"img-style",src:x.a,alt:"travel"})),l.a.createElement("div",{className:"header-heading"},l.a.createElement("h2",null,"STEP UP YOUR"),l.a.createElement("h1",null,l.a.createElement("em",null,"TRAVEL")," WITH US"),l.a.createElement("p",{className:"details"},"Build Your Travel Track With Professional Touch"),l.a.createElement("div",null,e.isLoggedIn?l.a.createElement(s.b,{to:"/places/build"},l.a.createElement(v.a,null,"Get Started")):l.a.createElement(s.b,{to:"/auth"},l.a.createElement(v.a,null,"Next Step")))))};var I=e=>l.a.createElement("div",{className:"a-box"},l.a.createElement("div",{className:"a-b-img"},l.a.createElement("img",{src:e.image,alt:""})),l.a.createElement("div",{className:"a-b-text"},l.a.createElement("h2",null,e.title),l.a.createElement("p",null,e.text))),j=a(35),L=a.n(j),A=a(36),_=a.n(A),R=a(37),P=a.n(R);var z=()=>l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"features"},l.a.createElement("h1",null,"FEATURES"),l.a.createElement("div",{className:"a-container"},l.a.createElement(I,{image:L.a,title:"Discover",text:"Explore Exciting Destinations with Ease, New Places in One Click!"}),l.a.createElement(I,{image:P.a,title:"Embark",text:"Embark on thrilling journeys,and to new adventures."}),l.a.createElement(I,{image:_.a,title:"Organize",text:"Come, Relax, and Let Us Handle the Rest."})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("hr",null)),M=a(38),U=a.n(M);var D=()=>{const e=Object(n.useContext)(u.a);return l.a.createElement("div",{id:"about"},l.a.createElement("div",{className:"about-image"},l.a.createElement("img",{src:U.a,alt:""})),l.a.createElement("div",{className:"about-text"},l.a.createElement("h1",null,"LERAN MORE ABOUT US"),l.a.createElement("p",null,"Experience travel made easy with our innovative platform. Imagine a world where you simply click on our app, and we instantly generate personalized travel options tailored to your specific location. At Travel Track, we've redefined the way you explore. Our user-friendly app takes the hassle out of trip planning, providing you with the best options."),l.a.createElement("br",null),l.a.createElement("p",null,"Join us on a journey where travel planning is effortless, and your next adventure is just a click away. Discover the world with ease, one destination at a time."),e.isLoggedIn?l.a.createElement(s.b,{to:"/places/build"},l.a.createElement(v.a,null,"Get Started")):l.a.createElement(s.b,{to:"/auth"},l.a.createElement(v.a,null,"Next Step"))))};const H=l.a.lazy(()=>a.e(4).then(a.bind(null,86))),B=l.a.lazy(()=>a.e(5).then(a.bind(null,83))),G=l.a.lazy(()=>a.e(6).then(a.bind(null,87))),V=l.a.lazy(()=>a.e(7).then(a.bind(null,84))),F=l.a.lazy(()=>a.e(3).then(a.bind(null,85)));var J=()=>{const{token:e,login:t,logout:a,userId:r}=Object(O.a)();let c;return c=e?l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/",exact:!0},l.a.createElement(S,null),l.a.createElement(z,null),l.a.createElement(D,null)),l.a.createElement(o.b,{path:"/users",exact:!0},l.a.createElement(H,null)),l.a.createElement(o.b,{path:"/:userId/places",exact:!0},l.a.createElement(G,null)),l.a.createElement(o.b,{path:"/places/new",exact:!0},l.a.createElement(B,null)),l.a.createElement(o.b,{path:"/places/build",exact:!0},l.a.createElement(w,null)),l.a.createElement(o.b,{path:"/places/:placeId"},l.a.createElement(V,null)),l.a.createElement(o.a,{to:"/"})):l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/",exact:!0},l.a.createElement(S,null),l.a.createElement(z,null),l.a.createElement(D,null)),l.a.createElement(o.b,{path:"/users",exact:!0},l.a.createElement(H,null)),l.a.createElement(o.b,{path:"/:userId/places",exact:!0},l.a.createElement(G,null)),l.a.createElement(o.b,{path:"/auth"},l.a.createElement(F,null)),l.a.createElement(o.a,{to:"/auth"})),l.a.createElement(u.a.Provider,{value:{isLoggedIn:!!e,token:e,userId:r,login:t,logout:a}},l.a.createElement(s.a,null,l.a.createElement(g,null),l.a.createElement("main",null,l.a.createElement(n.Suspense,{fallback:l.a.createElement("div",{className:"center"},l.a.createElement(N.a,null))},c))))};c.a.render(l.a.createElement(J,null),document.getElementById("root"))}],[[42,1,2]]]);
//# sourceMappingURL=main.ffe89f91.chunk.js.map